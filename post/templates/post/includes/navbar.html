{% load static %} {# Necesario si se usan URLs estáticas dentro de la navbar, aunque aquí no directamente #}

<nav>
    <div class="nav-logo">
        <a href="{% url 'tienda:inicio' %}"><h1>Mi Tienda</h1></a>
    </div>
    <ul class="nav-links">
        <li><a href="{% url 'tienda:lista_productos' %}">Productos</a></li>
        <li><a href="{% url 'tienda:ver_carrito' %}">Carrito (<span id="cart-count">{{ cart.total_items|default:0 }}</span>)</a></li>
        {% if user.is_authenticated %}
            <li><a href="{% url 'tienda:cuenta_dashboard' %}">Mi Cuenta</a></li>
            <li>
                <form id="logout-form" action="{% url 'tienda:logout' %}" method="post" style="display: none;">{% csrf_token %}</form>
                <a href="#" onclick="document.getElementById('logout-form').submit(); return false;">Logout</a>
            </li>
        {% else %}
            <li><a href="{% url 'tienda:login' %}">Login</a></li>
            <li><a href="{% url 'tienda:registro' %}">Registrarse</a></li>
        {% endif %}
        <li><a href="{% url 'tienda:contacto' %}">Contacto</a></li>
    </ul>
</nav>
<form action="{% url 'tienda:buscar' %}" method="get" class="search-bar">
    <input type="search" name="q" placeholder="Buscar productos...">
    <button type="submit">Buscar</button>
</form>
